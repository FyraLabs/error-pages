templates:
  - name: fyra
    path: fyra.html

formats:
  json:
    content: |
      {
        "error": true,
        "code": {{ code | json }},
        "message": {{ message | json }},
        "description": {{ description | json }}{{ if show_details }},
        "details": {
          "host": {{ host | json }},
          "original_uri": {{ original_uri | json }},
          "forwarded_for": {{ forwarded_for | json }},
          "namespace": {{ namespace | json }},
          "ingress_name": {{ ingress_name | json }},
          "service_name": {{ service_name | json }},
          "service_port": {{ service_port | json }},
          "request_id": {{ request_id | json }},
          "timestamp": {{ now.Unix }}
        }{{ end }}
      }

  xml:
    content: |
      <?xml version="1.0" encoding="utf-8"?>
      <error>
        <code>{{ code }}</code>
        <message>{{ message }}</message>
        <description>{{ description }}</description>{{ if show_details }}
        <details>
          <host>{{ host }}</host>
          <originalURI>{{ original_uri }}</originalURI>
          <forwardedFor>{{ forwarded_for }}</forwardedFor>
          <namespace>{{ namespace }}</namespace>
          <ingressName>{{ ingress_name }}</ingressName>
          <serviceName>{{ service_name }}</serviceName>
          <servicePort>{{ service_port }}</servicePort>
          <requestID>{{ request_id }}</requestID>
          <timestamp>{{ now.Unix }}</timestamp>
        </details>{{ end }}
      </error>

pages:
  400:
    message: Bad Request
    description: The server did not understand the request

  401:
    message: Unauthorized
    description: Authentication is required to access this resource

  403:
    message: Forbidden
    description: You are not allowed to access this resource

  404:
    message: Not Found
    description: A cat ran off with this page

  405:
    message: Method Not Allowed
    description: The method specified in the request is not allowed

  407:
    message: Proxy Authentication Required
    description: This resource is internal-only. If you have received this message in error, contact Operations.

  408:
    message: Request Timeout
    description: Your device took too long to connect
  
  409:
    message: Conflict
    description: The request could not be completed because of a conflict

  410:
    message: Gone
    description: The requested resource is no longer available

  411:
    message: Length Required
    description: The "Content-Length" is not defined. The server will not accept the request without it

  412:
    message: Precondition Failed
    description: The pre condition given in the request evaluated to false by the server

  413:
    message: Payload Too Large
    description: The server will not accept the request, because the request entity is too large

  416:
    message: Requested Range Not Satisfiable
    description: The requested byte range is not available and is out of bounds

  418:
    message: I'm a teapot
    description: Attempt to brew coffee with a teapot is not allowed

  429:
    message: Rate-limited
    description: Too many requests, try again later

  451:
    message: Unavailable For Legal Reasons
    description: Resource access is blocked for legal reasons

  500:
    message: Internal Server Error
    description: We hit a snag. Try again in a few seconds.

  502:
    message: Bad Gateway
    description: Your request couldn't make it to us. Try again in a few minutes.

  503:
    message: Service Unavailable
    description: Try again in a few minutes. If the problem persists check status.fyralabs.com

  504:
    message: Gateway Timeout
    description: The gateway has timed out

  505:
    message: HTTP Version Not Supported
    description: The server does not support the "http protocol" version
